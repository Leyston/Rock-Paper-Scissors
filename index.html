<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div id="grid" class="container">

            <div id="Title" class="item_a"><h2>Rock, Paper, Scissors.</h2></div> <!--cambiar esta texto por una imagen-->

            <div id="buttons" class="item_b">
                <button id="ROCK">ROCK</button>
                <button id="PAPER">PAPER</button>
                <button id="SCISSORS">SCISSORS</button>
            </div>
    
            <!--ContainSer de los resultados-->
            <div id="resultados" class="item_c">
    
            </div>


        </div>
        <!--Container de los botones-->



        <script>
            //Selecciona la juada de la computadora 
            function computerPlay(){

                let select = ['ROCK', 'PAPER', 'SCISSORS'];


                return select[Math.floor((Math.random() * 3) + 0)]
            }

            // Crea busca el container de los reultados y crea el elementeo en dondes se presetna los
            //resultados 
            const container_res = document.querySelector('#resultados');
            const content = document.createElement('p');
            const counter = document.createElement('p');
            content.classList.add('content');
            counter.classList.add('counter');


            let count_p1 = 0;
            let count_p2 = 0;

            //Juega una rondo del juego y indica el resultado 
            function playRound(playerSelection, computerSelection) {
                let player1 = playerSelection.toUpperCase()
                let player2 = computerSelection

                if (player1.localeCompare(player2) == 0){
                    content.textContent = "It was a draw!";
                    container_res.appendChild(content);
                    count_p1 = count_p1 +1;
                    count_p2 = count_p2 +1;
                    counter.textContent = "Player1: "+count_p1 +" Player2: "+ count_p2;
                    container_res.appendChild(counter);
                }
                if (player1 == 'ROCK' && player2 =='SCISSORS'){
                    content.textContent = "You won! "+ player1+ " beats "+ player2;
                    container_res.appendChild(content);
                    count_p1 = count_p1 +1;
                    counter.textContent = "Player1: "+count_p1 +" Player2: "+ count_p2;
                    container_res.appendChild(counter);
                }
                if (player1 == 'PAPER' && player2 =='ROCK'){
                    content.textContent = "You won! "+ player1+ " beats "+ player2;
                    container_res.appendChild(content);
                    count_p1 = count_p1 +1;
                    counter.textContent = "Player1: "+count_p1 +" Player2: "+ count_p2;
                    container_res.appendChild(counter);
                }
                if (player1 == 'SCISSORS' && player2 =='PAPER'){
                    content.textContent = "You won! "+ player1+ " beats "+ player2;
                    container_res.appendChild(content);
                    count_p1 = count_p1 +1;
                    counter.textContent = "Player1: "+count_p1 +" Player2: "+ count_p2;
                    container_res.appendChild(counter);
                }
                if (player1 == 'ROCK' && player2 =='PAPER'){
                    content.textContent = "You lost! "+ player2+ " beats "+ player1;
                    container_res.appendChild(content);
                    count_p2 = count_p2 +1;
                    counter.textContent = "Player1: "+count_p1 +" Player2: "+ count_p2;
                    container_res.appendChild(counter);
                }
                if (player1 == 'PAPER' && player2 =='SCISSORS'){
                    content.textContent = "You lost! "+ player2+ " beats "+ player1;
                    container_res.appendChild(content);
                    count_p2 = count_p2 +1;
                    counter.textContent = "Player1: "+count_p1 +" Player2: "+ count_p2;
                    container_res.appendChild(counter);
                }
                if (player1 == 'SCISSORS' && player2 =='ROCK'){
                    content.textContent = "You lost! "+ player2+ " beats "+ player1;
                    container_res.appendChild(content);
                    count_p2 = count_p2 +1;
                    counter.textContent = "Player1: "+count_p1 +" Player2: "+ count_p2;
                    container_res.appendChild(counter);
                }
            }

            // Busca todos los botones
            const buttons = document.querySelectorAll('button');

            // we use the .forEach method to iterate through each button
            buttons.forEach((button) => {
            // and for each one we add a 'click' listener
            button.addEventListener('click', (e) => {
                playRound(button.id, computerPlay());
                if (count_p1 == 5 && count_p2 < 5) {
                    alert("Player1 Won!!")
                    count_p2 = 0;
                    count_p1 = 0;
                }
                if (count_p2 == 5 && count_p1 < 5) {
                    alert("Player2 Won!!")
                    count_p2 = 0;
                    count_p1 = 0;
                }
                if (count_p2 == 5 && count_p1 == 5) {
                    alert("Empate")
                    count_p2 = 0;
                    count_p1 = 0;
                }

                });
            });

            


        </script>
    </body>
</html>